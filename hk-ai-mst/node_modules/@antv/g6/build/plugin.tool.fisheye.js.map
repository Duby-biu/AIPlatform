{"version":3,"file":"plugin.tool.fisheye.js","sources":["webpack://[name]/plugin.tool.fisheye.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"@antv/g6\")):\"function\"==typeof define&&define.amd?define([\"@antv/g6\"],t):\"object\"==typeof exports?exports[\"plugin.tool.fisheye\"]=t(require(\"@antv/g6\")):e[\"plugin.tool.fisheye\"]=t(e.G6)}(window,function(e){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=103)}({103:function(e,t,o){function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n=o(4),i=n.Util,u=o(134),f=function(){function e(e){i.mix(this,e),this.options=e}return e.prototype.init=function(){var e=this,t=this.graph;this.oriPos=new Map,this.preMoveNodes=[],t.on(\"beforeinit\",function(){var o=new u(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);\"function\"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){r(e,t,o[t])})}return e}({graph:t},e.options));t.on(\"mousemove\",i.throttle(function(r){if(!t.destroyed){var n=t.getNodes().length;if(e.oriPos.size===n){for(var i=0;i<e.preMoveNodes.length;i+=1){var u=e.preMoveNodes[i].getModel();u.x=e.oriPos.get(e.preMoveNodes[i].id).x,u.y=e.oriPos.get(e.preMoveNodes[i].id).y}t.updateNodePosition(e.preMoveNodes),e.preMoveNodes=o.zoom(r.x,r.y)}}},30))});var o=i.debounce(function(o){if(!t.destroyed){var r=t.getNodes(),n=r.length;if(void 0===o||void 0===o.item)for(var i=0;i<n;i++){if(void 0===r[i].getModel().x)return;e.oriPos.set(r[i].id,{x:r[i].getModel().x,y:r[i].getModel().y})}else{if(\"node\"!==o.item.type||void 0===o.updateModel.x&&void 0===o.updateModel.y)return;e.oriPos.set(o.originModel.id,{x:o.updateModel.x,y:o.updateModel.y})}}},30);t.on(\"afterchange\",o),t.on(\"afterlayout\",o)},e}();n.Plugins[\"tool.fisheye\"]=f,e.exports=f},134:function(e,t,o){var r=o(4).Util,n=function(){function e(e){r.mix(this,{radius:200,center:[0,0],d:1},e)}return e.prototype.zoom=function(e,t){for(var o=this.graph,r=this.radius,n=this.d,f=[e,t],a=o.getNodes(),d=a.length,s=[],p=0;p<d;p+=1){var l=a[p].getModel();if(Math.hypot(l.x-f[0],l.y-f[1])<r){var c=[l.x-f[0],l.y-f[1]],y=i(c[0],c[1]),v=y.p,h=u(r*((n+1)*(v/r)/(n*(v/r)+1)),y.theta),g=h.x,M=h.y,b=a[p].getModel();b.x=g+f[0],b.y=M+f[1],s.push(a[p])}}return o.updateNodePosition(s),s},e}();function i(e,t){var o,r=Math.hypot(e,t);return t>=0?o=0===e?Math.PI/2:Math.acos(e/r):t<0&&(o=0===e?3*Math.PI/2:2*Math.PI-Math.acos(e/r)),{p:r,theta:o}}function u(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}e.exports=n},4:function(t,o){t.exports=e}})});"],"mappings":"AAAA","sourceRoot":""}